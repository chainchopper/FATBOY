<div class="saved-container">
  <h2>Your Saved Products</h2>
  
  <div class="tabs">
    <button class="tab-button" [class.active]="selectedTab === 'approved'" (click)="selectTab('approved')">
      Approved Products
    </button>
    <button class="tab-button" [class.active]="selectedTab === 'avoided'" (click)="selectTab('avoided')">
      Avoided Products
    </button>
  </div>

  <div *ngIf="selectedTab === 'approved'">
    <div *ngIf="(approvedProducts$ | async) as products">
      <div *ngIf="products.length === 0" class="empty-state">
        <p>Your healthy pantry is waiting! Go scan some products.</p>
      </div>
      
      <div class="products-grid">
        <div *ngFor="let product of products" class="product-card">
          <span class="approved-badge">Approved</span>
          <img [src]="product.image" alt="{{product.name}}" class="product-thumb">
          <div class="product-info">
            <h3>{{product.name}}</h3>
            <p>{{product.brand}}</p>
          </div>
          <div class="product-actions">
            <button class="action-btn" title="Star">⭐️</button>
            <button class="action-btn" (click)="shareProduct(product)" title="Share">🔗</button>
            <button class="action-btn remove-btn" (click)="removeApprovedProduct(product.id)" title="Remove">🗑️</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="selectedTab === 'avoided'">
    <div *ngIf="(avoidedProducts$ | async) as products">
      <div *ngIf="products.length === 0" class="empty-state">
        <p>No products on your avoid list yet. Add items you want to steer clear of!</p>
      </div>
      
      <div class="products-grid">
        <div *ngFor="let product of products" class="product-card avoided">
          <span class="avoided-badge">Avoided</span>
          <img [src]="product.image" alt="{{product.name}}" class="product-thumb">
          <div class="product-info">
            <h3>{{product.name}}</h3>
            <p>{{product.brand}}</p>
          </div>
          <div class="product-actions">
            <button class="action-btn remove-btn" (click)="removeAvoidedProduct(product.id)" title="Remove">🗑️</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>