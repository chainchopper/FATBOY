<div class="community-container">
  <h2>Community Feed</h2>
  <p>See what others are discovering and contribute your own finds!</p>

  <div class="add-contribution-section">
    <button (click)="toggleAddMode()" class="add-btn">
      {{ isAddingNewProduct ? 'Cancel' : 'ï¼‹ Add New Product' }}
    </button>
  </div>

  <div *ngIf="isAddingNewProduct" class="contribution-workflow">
    <!-- Contribution form remains the same -->
  </div>

  <div class="community-feed">
    <div *ngIf="communityContributions.length === 0 && !isAddingNewProduct" class="empty-state">
      <p>No contributions yet. Be the first to share!</p>
    </div>
    <div *ngFor="let contribution of communityContributions" class="contribution-card">
      <div class="card-header">
        <h4>{{ contribution.productName }}</h4>
        <span class="status-badge status-{{ contribution.status }}">{{ contribution.status | titlecase }}</span>
      </div>
      <p class="card-brand">{{ contribution.brand }}</p>
      <p class="card-ingredients"><strong>Ingredients:</strong> {{ contribution.ingredients }}</p>
      <p class="card-notes" *ngIf="contribution.notes"><strong>Notes:</strong> {{ contribution.notes }}</p>
      
      <div class="metadata-footer">
        <div class="user-info">
          <span class="username">ğŸ‘¤ {{ contribution.metadata.username || 'Anonymous' }}</span>
          <span class="goal" *ngIf="contribution.metadata.goal">ğŸ¯ {{ contribution.metadata.goal | titlecase }}</span>
        </div>
        <div class="leaderboard-status" *ngIf="contribution.metadata.leaderboardStatus">
          ğŸ… Rank {{ contribution.metadata.leaderboardStatus.rank }} ({{ contribution.metadata.leaderboardStatus.score }} pts)
        </div>
      </div>
    </div>
  </div>
</div>