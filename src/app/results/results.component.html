<div class="results-container" [class.good]="analysis?.verdict === 'good'" 
                             [class.bad]="analysis?.verdict === 'bad'"
                             [class.neutral]="analysis?.verdict === 'neutral'">
  <div class="verdict-card">
    <div class="verdict-icon">
      <span *ngIf="analysis?.verdict === 'good'">‚úì</span>
      <span *ngIf="analysis?.verdict === 'bad'">‚úó</span>
      <span *ngIf="analysis?.verdict === 'neutral'">~</span>
    </div>
    <h2 *ngIf="analysis?.verdict === 'good'">Fat Boy Approved!</h2>
    <h2 *ngIf="analysis?.verdict === 'bad'">Contains Items You Avoid</h2>
    <h2 *ngIf="analysis?.verdict === 'neutral'">Needs Consideration</h2>
    
    <div class="nutritional-score" *ngIf="analysis">
      <div class="score-circle" [style.background]="getNutritionalScoreColor(analysis.nutritionalScore)">
        {{analysis.nutritionalScore.toFixed(0)}}
      </div>
      <span>Nutritional Score</span>
    </div>
  </div>

  <div class="product-info">
    <img [src]="product.image" alt="{{product.name}}" class="product-image">
    <h3>{{product.name}}</h3>
    <p>{{product.brand}}</p>
    <p *ngIf="product.calories" class="calories">{{product.calories}} calories per serving</p>
  </div>

  <div class="insight-section">
    <h3>AI Insight</h3>
    <p>{{insightSummary}}</p>
    <p class="confidence" *ngIf="analysis">Analysis confidence: {{(analysis.confidence * 100).toFixed(0)}}%</p>
  </div>

  <div class="ingredient-breakdown" *ngIf="analysis && analysis.flaggedIngredients.length > 0">
    <h3>Flagged Ingredients:</h3>
    <ul>
      <li *ngFor="let ingredient of analysis.flaggedIngredients" class="bad-ingredient">
        ‚ö†Ô∏è {{ingredient}}
      </li>
    </ul>
  </div>

  <div class="warnings-section" *ngIf="analysis && analysis.warnings.length > 0">
    <h3>Warnings:</h3>
    <ul>
      <li *ngFor="let warning of analysis.warnings" class="warning-item">
        ‚ö†Ô∏è {{warning}}
      </li>
    </ul>
  </div>

  <div class="recommendations-section" *ngIf="analysis && analysis.recommendations.length > 0">
    <h3>Recommendations:</h3>
    <ul>
      <li *ngFor="let recommendation of analysis.recommendations" class="recommendation-item">
        üí° {{recommendation}}
      </li>
    </ul>
  </div>

  <div class="action-buttons">
    <button (click)="scanAgain()" class="outline-btn">Scan Again</button>
    <button *ngIf="analysis?.verdict === 'good'" (click)="saveProduct()" class="filled-btn">Save Product</button>
  </div>
</div>