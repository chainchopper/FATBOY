<div class="container mx-auto p-4 text-gray-100 max-w-7xl">
  <div class="text-center mb-8">
    <h2 class="text-3xl font-bold text-teal-400 drop-shadow-lg shadow-teal-400 mb-4">Food Diary</h2>
    <div class="flex justify-center items-center gap-4 mb-8 bg-gray-900/80 border border-purple-700 rounded-xl p-3 shadow-lg shadow-purple-500/30">
      <button (click)="goToPreviousDay()" class="px-4 py-2 rounded-full border border-purple-500 text-purple-400 hover:bg-purple-900/20 transition-all duration-300">‚óÄÔ∏è Previous Day</button>
      <span class="text-xl font-bold text-teal-400 drop-shadow-md shadow-teal-400">{{ currentDate | date:'fullDate' }} <span *ngIf="isToday()">(Today)</span></span>
      <button (click)="goToNextDay()" class="px-4 py-2 rounded-full border border-purple-500 text-purple-400 hover:bg-purple-900/20 transition-all duration-300" [disabled]="isToday()">Next Day ‚ñ∂Ô∏è</button>
    </div>
  </div>

  <app-daily-summary-card
    [summary]="dailySummary"
    [verdict]="dailyVerdict"
    [preferences]="userPreferences"
    class="block mb-8">
  </app-daily-summary-card>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div class="bg-gray-900/80 border border-teal-700 rounded-xl p-6 shadow-lg shadow-teal-500/30">
      <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
        <h3 class="text-2xl font-semibold text-purple-400">üç≥ Breakfast</h3>
        <button (click)="scanForMeal('Breakfast')" class="px-3 py-1 rounded-full border border-teal-500 text-teal-400 hover:bg-teal-900/20 transition-all duration-300">Scan Item</button>
      </div>
      <div *ngIf="(breakfast$ | async) as entries" class="flex flex-col gap-3">
        <app-diary-item 
          *ngFor="let entry of entries"
          [product]="entry.product"
          (remove)="onRemoveEntry(entry.id)"
          (viewDetails)="onViewDetails($event)">
        </app-diary-item>
        <p *ngIf="entries.length === 0" class="text-gray-500 italic text-center py-4">No breakfast items logged.</p>
      </div>
    </div>

    <div class="bg-gray-900/80 border border-teal-700 rounded-xl p-6 shadow-lg shadow-teal-500/30">
      <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
        <h3 class="text-2xl font-semibold text-purple-400">ü•ó Lunch</h3>
        <button (click)="scanForMeal('Lunch')" class="px-3 py-1 rounded-full border border-teal-500 text-teal-400 hover:bg-teal-900/20 transition-all duration-300">Scan Item</button>
      </div>
      <div *ngIf="(lunch$ | async) as entries" class="flex flex-col gap-3">
        <app-diary-item 
          *ngFor="let entry of entries"
          [product]="entry.product"
          (remove)="onRemoveEntry(entry.id)"
          (viewDetails)="onViewDetails($event)">
        </app-diary-item>
        <p *ngIf="entries.length === 0" class="text-gray-500 italic text-center py-4">No lunch items logged.</p>
      </div>
    </div>

    <div class="bg-gray-900/80 border border-teal-700 rounded-xl p-6 shadow-lg shadow-teal-500/30">
      <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
        <h3 class="text-2xl font-semibold text-purple-400">üç≤ Dinner</h3>
        <button (click)="scanForMeal('Dinner')" class="px-3 py-1 rounded-full border border-teal-500 text-teal-400 hover:bg-teal-900/20 transition-all duration-300">Scan Item</button>
      </div>
      <div *ngIf="(dinner$ | async) as entries" class="flex flex-col gap-3">
        <app-diary-item 
          *ngFor="let entry of entries"
          [product]="entry.product"
          (remove)="onRemoveEntry(entry.id)"
          (viewDetails)="onViewDetails($event)">
        </app-diary-item>
        <p *ngIf="entries.length === 0" class="text-gray-500 italic text-center py-4">No dinner items logged.</p>
      </div>
    </div>

    <div class="bg-gray-900/80 border border-teal-700 rounded-xl p-6 shadow-lg shadow-teal-500/30">
      <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
        <h3 class="text-2xl font-semibold text-purple-400">üçé Snacks</h3>
        <button (click)="scanForMeal('Snack')" class="px-3 py-1 rounded-full border border-teal-500 text-teal-400 hover:bg-teal-900/20 transition-all duration-300">Scan Item</button>
      </div>
      <div *ngIf="(snacks$ | async) as entries" class="flex flex-col gap-3">
        <app-diary-item 
          *ngFor="let entry of entries"
          [product]="entry.product"
          (remove)="onRemoveEntry(entry.id)"
          (viewDetails)="onViewDetails($event)">
        </app-diary-item>
        <p *ngIf="entries.length === 0" class="text-gray-500 italic text-center py-4">No snack items logged.</p>
      </div>
    </div>

    <div class="bg-gray-900/80 border border-teal-700 rounded-xl p-6 shadow-lg shadow-teal-500/30">
      <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
        <h3 class="text-2xl font-semibold text-purple-400">ü•§ Drinks</h3>
        <button (click)="scanForMeal('Drinks')" class="px-3 py-1 rounded-full border border-teal-500 text-teal-400 hover:bg-teal-900/20 transition-all duration-300">Scan Item</button>
      </div>
      <div *ngIf="(drinks$ | async) as entries" class="flex flex-col gap-3">
        <app-diary-item 
          *ngFor="let entry of entries"
          [product]="entry.product"
          (remove)="onRemoveEntry(entry.id)"
          (viewDetails)="onViewDetails($event)">
        </app-diary-item>
        <p *ngIf="entries.length === 0" class="text-gray-500 italic text-center py-4">No drinks logged.</p>
      </div>
    </div>
  </div>
</div>