<div class="shopping-list-container">
  <div class="list-header">
    <h2>Your Shopping List</h2>
    <button (click)="clearList()" class="clear-btn">Clear All</button>
  </div>

  <div *ngIf="(shoppingList$ | async) as list">
    <div *ngIf="list.length === 0" class="empty-state">
      <p>Your shopping list is empty. Add approved products from the results or saved pages!</p>
    </div>

    <div class="list-items-grid"> <!-- Use a grid for better layout of cards -->
      <app-product-card 
        *ngFor="let item of list" 
        [product]="item.product!" 
        [isFavorite]="isFavorite(item.product!.id)"
        [showCheckbox]="true"
        [isPurchased]="item.purchased"
        [showRemoveButton]="true"
        [showShareButton]="true"
        [showAddToFoodDiaryButton]="true"
        (togglePurchased)="onTogglePurchased(item.id)"
        (remove)="onRemoveItem(item.id)"
        (share)="onShareProduct($event)"
        (addToFoodDiary)="onAddToFoodDiary($event)"
        (toggleFavorite)="toggleFavorite($event)"
      ></app-product-card>
    </div>
  </div>
</div>