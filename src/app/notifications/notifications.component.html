<div class="absolute top-[65px] right-5 w-[350px] max-h-[400px] bg-[#1a1a2e] border border-purple-500 rounded-lg shadow-lg shadow-purple-500/50 z-[1005] flex flex-col text-gray-200">
  <div class="flex justify-between items-center p-4 border-b border-gray-700">
    <h3 class="m-0 text-purple-400">Notifications</h3>
    <button (click)="markAllAsRead()" class="text-sm bg-none border-none cursor-pointer text-teal-400">Mark all as read</button>
  </div>
  <div class="overflow-y-auto flex-grow">
    <div *ngIf="(notifications$ | async) as notifications">
      <div *ngIf="notifications.length === 0" class="text-center p-10 text-gray-500">
        <p>You have no new notifications.</p>
      </div>
      <div *ngFor="let notification of notifications" class="flex gap-4 p-4 border-b border-gray-800 cursor-pointer transition-colors duration-300 hover:bg-gray-800" [class.bg-purple-900/20]="!notification.is_read" (click)="handleNotificationClick(notification)">
        <div class="text-teal-400 flex-shrink-0">
          <lucide-icon [name]="getIconForType(notification.type)" [size]="20"></lucide-icon>
        </div>
        <div>
          <p class="m-0 mb-1 text-sm">{{ notification.message }}</p>
          <span class="text-xs text-gray-500">{{ notification.created_at | date:'short' }}</span>
        </div>
      </div>
    </div>
  </div>
</div>